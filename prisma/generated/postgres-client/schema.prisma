generator client {
  provider = "prisma-client-js"
  output   = "./generated/postgres-client"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_DATABASE_URL")
}

model Patient {
  pid                String   @id
  name               String
  contactInformation String
  BirthDay           DateTime
  gender             String
  visits             Visit[]
  fhirId             String?
  abhaId             String?
  createdAt          DateTime
}

model Visit {
  vid                 String   @id
  pid                 String
  isClinicalCollected Boolean?
  isDataCollected     Boolean?
  visitNotes          String?
  clinics             Clinic?
  encounterfhirid     String?
  patient             Patient  @relation(fields: [pid], references: [pid])
  createdAt           DateTime
}

model Clinic {
  cid                  String   @id
  vid                  String   @unique
  pid                  String?
  bloodGroup           String
  antigenStatus        String
  systolic             Int
  diastolic            Int
  temperature          Int
  smokingType          String
  overAllYearOfSmoking Int
  dailyConsumption     Int
  smokingIndex         Int
  alcoholFreeDays      Int
  alcoholType          Int
  alcoholConsumption   Int
  homoglobin           Int
  recentHealthIssue    String
  hereditaryHistory    String
  height               Int
  weight               Int
  visit                Visit    @relation(fields: [vid], references: [vid])
  observationfhirid    String?
  createdAt            DateTime
}
